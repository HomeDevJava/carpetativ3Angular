<div class="card border-primary mb3">
    <div class="card-headre">
        <h4 class="card-title">Listado de Movimiento de Activos</h4>
    </div>

    <div class="card-body text-primary">

        <div class="alert alert-info" *ngIf="!dataSource?.data.length">No existen registros en la Tabla</div>

        <div class="mat-elevation-z8">
            <mat-form-field>
                <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buesqueda">
            </mat-form-field>

            <button mat-button (click)="openDialog(null)" class="float-right">
                <mat-icon class="add600">add</mat-icon>
            </button>

            <table mat-table #table [dataSource]="dataSource"  class="table table-sm table-bordered table-striped" *ngIf="dataSource?.data">

                <ng-container matColumnDef ="id">
                    <th mat-header-cell *matHeaderCellDef> Id. </th>
                    <td mat-cell *matCellDef="let element">{{element.id}}</td>
                </ng-container>

                <ng-container matColumnDef="fecha">
                    <th mat-header-cell *matHeaderCellDef> Fecha </th>
                    <td mat-cell *matCellDef="let element">{{element.fecha | date:'yyyy/MM/dd' }}</td>
                </ng-container>

                <ng-container matColumnDef ="origen">
                    <th mat-header-cell *matHeaderCellDef>origen</th>
                    <td mat-cell *matCellDef="let element">{{element.origen.nombre}}</td>
                </ng-container>

                <ng-container matColumnDef ="destino">
                    <th mat-header-cell *matHeaderCellDef>destino</th>
                    <td mat-cell *matCellDef="let element">{{element.destino.nombre}}</td>
                </ng-container>

                <ng-container matColumnDef="empleado">
                    <th mat-header-cell *matHeaderCellDef> empleado </th>
                    <td mat-cell *matCellDef="let element">{{element.empleado.nombre+ ' ' + element.empleado.apellidos}}</td>
                </ng-container>

                <ng-container matColumnDef="motivo" >
                    <th mat-header-cell *matHeaderCellDef> motivo </th>
                    <td mat-cell *matCellDef="let element"  class="text-wrap" style="width: 20rem;">{{element.motivo}}</td>
                </ng-container>

                <ng-container matColumnDef="items" >
                    <th mat-header-cell *matHeaderCellDef> items </th>
                    <td mat-cell *matCellDef="let element"  class="text-wrap" style="width: 20rem;">{{element.items | array}}</td>
                </ng-container>

                <ng-container matColumnDef="acciones">
                    <th mat-header-cell *matHeaderCellDef> Acciones </th>
                    <td mat-cell *matCellDef="let element">
                      <button mat-button (click)="openDialog(element)">
                        <mat-icon class="edit600">create</mat-icon>
                      </button>
                      <button mat-button (click)="delete(element)">
                        <mat-icon class="delete600">delete_forever</mat-icon>
                      </button>
                    </td>
                  </ng-container>
                

                <tr mat-header-row *matHeaderRowDef="displayedColumns" style="background-color:aliceblue;"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 20, 25]" showFirstLastButtons></mat-paginator>
        </div>

    </div>

</div>